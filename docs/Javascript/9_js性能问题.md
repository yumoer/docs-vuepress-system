---
title: 9_js性能问题
date: 2022-01-16 16:08:57
permalink: /pages/62681b/
categories:
  - javascript
tags:
  - 
---

###概述
	ECMAScript高级的三座大山
		1.作用域&作用域链(衍生运用)
			执行上下文&执行上下文栈
				闭包
				this
				提升
				。。。
		2.原型&原型链	(衍生运用)
				继承
				属性的查找规则
		3.异步&单线程	(衍生运用)
				定时器

###javascript性能问题
		javascript本身就只是一个非常不起眼的语言，用来处理非常小众的问题。所以从设计之初它的性能就没有被重点考虑过。
	由于web时代的来临和Html5的兴起，这一切让javascript前所未有地成为焦点。自然它的功能和性能在大家的努力下都有了长
	足的进步。
		一方面javascript是解释性语言，运行时编译。另一方面，它是一种无类型语言（动态语言）。相比较而言，静态语言C++ 
	Java。他们在编译阶段就能够知道变量的类型。但是javascript语言的动态性没有办法在编译的时候就知道变量的类型。只能在
	运行时才能确定。在运算时计算和决定类型导致了javascript语言的运行效率比静态语言C++ Java都要低的很多。
		java:
			class Object{
				int x;
				int y;
			}
			int add(Object obj1,Object obj2){
				return obj1.x*obj1.y + obj2.x*obj2.y;
			}
			在编译(.java --> .class(JVM上运行！))阶段，编译器发现有两个对象obj1,obj2.
			在内存中分配地址
						ooo --->obj1					xxx --->obj2
						ooo为obj1的基地址				xxx为obj2的基地址
						int类型占据四个字节				int类型占据四个字节
						x---> ooo往后推四个字节			x---> xxx往后推四个字节
						y---> x的地址值再往后四个字节		y---> x的地址值再往后四个字节
			在C++ Java等语言中，已事先知道存取的成员变量(属性)的类型，所以语言解释系统只要利用数组
			和位移来存取这些变量和方法的地址。位移信息使它只要几个机器语言指令，就可以存取变量，找出变量
			或执行其他任务。
		
		js:
			function add(obj1,obj2){
				return obj1.x*obj1.y + obj2.x*obj2.y;
			}
			对于传统的javascript解释器，所有这一切都是解释执行。所以效率不会高到哪去我们也将javascript代码的处理分成两个阶段。
				---编译阶段。(做不了太多事情，javascript的编译一般就是在执行前的几微秒内进行)
				---执行阶段。
			对于javascript引擎来说，因为没有C++或者java这样的强类型语言的类型信息。所以javascript引擎的通常做法就是在分配基地址后使用
			键值对的形式来存储每一个对象。(典型的做法就是采用字符串)。之后访问对象的属性值时需要通过属性名的匹配来获取相应的值。
			(这一切都是在执行阶段处理的)
		
		归根结底,js性能的瓶颈在于如何获取对象属性值的具体位置？
			---相对于对象基地址的偏移？
			---分配基地址后通过匹配属性名查找属性值？

