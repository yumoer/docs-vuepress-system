---
title: 5_强制类型转换
date: 2022-01-16 16:06:39
permalink: /pages/1b0c31/
categories:
  - javascript
tags:
  - 
---

### 概述
	在很多语言中其实我们是会区分 类型转换 & 强制类型转换的
			类型转换发生在静态类型语言的编译阶段，
			强制类型转换则发生在动态类型语言的运行时
			
	由于在javascript中，编译过程体现的不是很明显。所以我们一般都会认为javascript中
	只存在强制类型转换

###强制类型转换
	javascript中的强制类型转换总是返回基本数据类型，不会返回对象或函数。所以组包从严格意义上来讲，不能算作强制类型转换。
	
	强制类型转换:
		 隐式强制类型转换,显式强制类型转换
			var a = 42;
			var b = a + ""; 	 //  隐式强制类型转换
			var c = String( a ); //  显式强制类型转换
		对变量 b 而言，强制类型转换是隐式的；由于 + 运算符的其中一个操作数是字符串，所以是字符串拼接操作，结果是数字 42被强制类型转换为相应的字符串 "42" 。
		而String( a )则是将 a 显式强制类型转换为字符串
	
	a.ToPrimitive , ToString , ToNumber , ToBoolean
	
	
		--ToPrimitive:它负责处理对象的基本化
	 		检查该值是否有 valueOf() 方法。如果有并且返回基本类型值，就使用该值进
			行强制类型转换。如果没有就使用 toString() 的返回值（如果存在）来进行强制类型转换。
			如果 valueOf() 和 toString() 均不返回基本类型值，会产生 TypeError 错误
			
			valueOf()
				JavaScript 调用 valueOf() 方法用来把对象转换成原始类型的值（数值、字符串和布尔值）。 
				你很少需要自己调用此函数; JavaScript 会自动调用此函数当需要转换成一个原始值时。
				默认情况下, valueOf() 会被每个对象Object继承。每一个内置对象都会覆盖这个方法为了返回一个合理的值，
				如果对象没有原始值，valueOf() 就会返回对象自己
			
			toString():
				对普通对象来说，除非自行定义，否则 toString() 返回 内部 属性[[Class]] 的值
						即调用Object.prototype.toString()
					如果对象有自己的 toString() 方法，字符串化时就会调用该方法并使用其返回值
						比如数组的默认 toString() 方法经过了重新定义，将所有单元字符串化以后
						再用 "," 连接起来：

	
	
	
		--ToString:它负责处理非字符串转化为字符串
			基本类型值的字符串化规则为：
				String()  
			对象 (ToPrimitive)  
				oPrimitive 转成基本数据类型再String()
			
			
			String() 方法
				null 转换为 "null"
				undefined 转换为 "undefined"
				Boolean：true 转换为 "true" ;false 转换为 "false"
				数字的字符串化则遵循通用规则
					1 转换为 "1"  (当然可能会有指数的形式 1.07e21)
			
			
		--ToNumber:它负责处理非数字化为数字
			基本数据类型数值化规则:
				Number()
			对象 ()
				ToPrimitive 转成基本数据类型再Number()
			
			
			Number方法
				Null==>0
				Undefined==>NaN
				Boolean：true==>1	false==>0
				字符串
					就是把字符串两边的空白字符去掉，然后把两边的引号去掉，看它能否组成一个合法的数字。
					如果是，转化结果就是这个数字；否则，结果是NaN。
					当然也有例外，比如空白字符串转化为数字的结果是0。
				
			
		--ToBoolean：它负责非布尔化为布尔
				假值 --->false
				真值 ---> true
				
				以下这些是假值：
					undefined
					null
					false
					+0 、 -0 和 NaN
					""
				
				真值就是假值列表之外的值。



###parseInt(value)  与  Number(value) 转换字符串的区别
	parseInt转换情况
		字符串->只要最高位是数字则会转换成数值；否则转换成NaN
	
	Number转换情况
		就是把字符串两边的空白字符去掉，然后把两边的引号去掉，看它能否组成一个合法的数字。
		如果是，转化结果就是这个数字；否则，结果是NaN。
		当然也有例外，比如空白字符串转化为数字的结果是0。
		




